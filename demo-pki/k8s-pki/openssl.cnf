[ ca ]
default_ca = CA_default

[ CA_default ]
dir               = .
database          = $dir/index.txt
new_certs_dir     = $dir/newcerts
serial            = $dir/serial
RANDFILE          = $dir/private/.rand

private_key       = $dir/root/root.key.pem
certificate       = $dir/root/root.cert.pem

[ req ]
string_mask        = utf8only
default_bits        = 2048
prompt              = no
default_md          = sha256
req_extensions      = req_ext
prompt              = no
distinguished_name  = dn

[ dn ]
countryName                 = Country Name (2 letter code)
countryName_default         = DE
stateOrProvinceName         = State or Province Name
stateOrProvinceName_default = Berlin
localityName                = Locality Name
localityName_default        = Berlin
organizationName            = Organization Name
organizationName_default    = DemoCA
commonName                  = Common Name
CN                          = go-mtls-server-service

[ req_ext ]
subjectAltName = @alt_names

[ alt_names ]
DNS.1 = go-mtls-server-service

[ v3_ca ]
basicConstraints = critical,CA:TRUE
keyUsage = critical, digitalSignature, cRLSign, keyCertSign

[ v3_intermediate_ca ]
basicConstraints = critical,CA:TRUE, pathlen:0
keyUsage = critical, digitalSignature, cRLSign, keyCertSign
authorityKeyIdentifier = keyid:always,issuer

[ v3_server_cert ]
basicConstraints = CA:FALSE
nsCertType = server
nsComment = "Demo Server Certificate"
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer
keyUsage = critical, digitalSignature, keyEncipherment
extendedKeyUsage = serverAuth

[ v3_client_cert ]
basicConstraints = CA:FALSE
keyUsage = critical, digitalSignature, keyEncipherment
extendedKeyUsage = clientAuth
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer
